<!DOCTYPE html>
<html lang="zh-cn" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
	<script src="https://use.typekit.net/bvk2pcm.js"></script>
   <script>try{Typekit.load({ async: true });}catch(e){}</script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.47" />
    <meta name="description" content="Documentation for DragonFly">
<meta name="author" content="Aliware Docs">

    <link rel="shortcut icon" href="/Dragonfly/images/favicon.png" type="image/x-icon" />
<link rel="icon" href="/Dragonfly/images/favicon.png" type="image/x-icon" />
    <title>Dragonfly :: Dragonfly 文档</title>

    
    <link href="/Dragonfly/css/nucleus.css?1540439236" rel="stylesheet">
    <link href="/Dragonfly/css/fontawesome-all.min.css?1540439236" rel="stylesheet">
    <link href="/Dragonfly/css/hybrid.css?1540439236" rel="stylesheet">
    <link href="/Dragonfly/css/featherlight.min.css?1540439236" rel="stylesheet">
    <link href="/Dragonfly/css/perfect-scrollbar.min.css?1540439236" rel="stylesheet">
    <link href="/Dragonfly/css/auto-complete.css?1540439236" rel="stylesheet">
    <link href="/Dragonfly/css/theme.css?1540439236" rel="stylesheet">
    <link href="/Dragonfly/css/hugo-theme.css?1540439236" rel="stylesheet">
    
      <link href="/Dragonfly/css/theme-dragonfly.css?1540439236" rel="stylesheet">
    

    <script src="/Dragonfly/js/jquery-2.x.min.js?1540439236"></script>

    <style type="text/css">
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/Dragonfly/zh-cn/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <img src="https://raw.githubusercontent.com/aliware-os/dragonfly-test/gh-pages/images/logo.png"  alt="Dragonfly Logo" />
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="text" placeholder="搜索...">
    <span data-search-clear=""><i class="fas fa-close"></i></span>
</div>

<script type="text/javascript" src="/Dragonfly/js/lunr.min.js?1540439236"></script>
<script type="text/javascript" src="/Dragonfly/js/auto-complete.js?1540439236"></script>
<script type="text/javascript">
    
        var baseurl = "\/Dragonfly\/zh-cn";
    
</script>
<script type="text/javascript" src="/Dragonfly/js/search.js?1540439236"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/Dragonfly/zh-cn/onboarding/" title="如何使用本网站" class="dd-item 
        
        
        
        ">
      <a href="/Dragonfly/zh-cn/onboarding/">
          <b>0. </b>如何使用本网站
          
            <i class="fas read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/Dragonfly/zh-cn/overview/" title="概述" class="dd-item 
        
        
        
        ">
      <a href="/Dragonfly/zh-cn/overview/">
          <b>1. </b>概述
          
            <i class="fas read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/Dragonfly/zh-cn/overview/what_is_dragonfly/" title="什么是 Dragonfly" class="dd-item ">
        <a href="/Dragonfly/zh-cn/overview/what_is_dragonfly/">
        什么是 Dragonfly
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/Dragonfly/zh-cn/overview/terminology/" title="术语" class="dd-item ">
        <a href="/Dragonfly/zh-cn/overview/terminology/">
        术语
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/Dragonfly/zh-cn/quick_start/" title="快速入门" class="dd-item 
        
        
        
        ">
      <a href="/Dragonfly/zh-cn/quick_start/">
          <b>2. </b>快速入门
          
            <i class="fas read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/Dragonfly/zh-cn/user_guide/" title="用户指南" class="dd-item 
        
        
        
        ">
      <a href="/Dragonfly/zh-cn/user_guide/">
          <b>3. </b>用户指南
          
            <i class="fas read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/Dragonfly/zh-cn/user_guide/install_server/" title="安装服务端" class="dd-item ">
        <a href="/Dragonfly/zh-cn/user_guide/install_server/">
        安装服务端
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/Dragonfly/zh-cn/user_guide/install_client/" title="安装客户端" class="dd-item ">
        <a href="/Dragonfly/zh-cn/user_guide/install_client/">
        安装客户端
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/Dragonfly/zh-cn/user_guide/download_files/" title="分发文件" class="dd-item ">
        <a href="/Dragonfly/zh-cn/user_guide/download_files/">
        分发文件
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/Dragonfly/zh-cn/user_guide/supernode_configuration/" title="超级节点的配置" class="dd-item ">
        <a href="/Dragonfly/zh-cn/user_guide/supernode_configuration/">
        超级节点的配置
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/Dragonfly/zh-cn/cli_reference/" title="CLI 参考" class="dd-item 
        
        
        
        ">
      <a href="/Dragonfly/zh-cn/cli_reference/">
          <b>4. </b>CLI 参考
          
            <i class="fas read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/Dragonfly/zh-cn/cli_reference/dfdaemon/" title="dfdaemon" class="dd-item ">
        <a href="/Dragonfly/zh-cn/cli_reference/dfdaemon/">
        dfdaemon
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/Dragonfly/zh-cn/cli_reference/dfget/" title="dfget" class="dd-item ">
        <a href="/Dragonfly/zh-cn/cli_reference/dfget/">
        dfget
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/Dragonfly/zh-cn/api_reference/" title="API 参考" class="dd-item 
        
        
        
        ">
      <a href="/Dragonfly/zh-cn/api_reference/">
          <b>5. </b>API 参考
          
            <i class="fas read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/Dragonfly/zh-cn/api_reference/api_supernode/" title="超级节点提供的 API" class="dd-item ">
        <a href="/Dragonfly/zh-cn/api_reference/api_supernode/">
        超级节点提供的 API
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/Dragonfly/zh-cn/api_reference/api_preheat/" title="Preheat API" class="dd-item ">
        <a href="/Dragonfly/zh-cn/api_reference/api_preheat/">
        Preheat API
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/Dragonfly/zh-cn/faq/" title="常见问题" class="dd-item 
        
        
        
        ">
      <a href="/Dragonfly/zh-cn/faq/">
          <b>6. </b>常见问题
          
            <i class="fas read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>更多</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="https://github.com/alibaba/Dragonfly"><i class='fab fa-fw fa-github'></i> Github 仓库</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://alibaba.github.io/Dragonfly/zh-cn/roadmap"><i class='fas fa-fw fa-map-signs'></i> 路线图</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://alibaba.github.io/Dragonfly/zh-cn/contributing"><i class='fas fa-fw fa-lightbulb'></i> 贡献指南</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://alibaba.github.io/Dragonfly/zh-cn/maintainers"><i class='fas fa-fw fa-user-cog'></i> 维护者</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
          <div class="select-style">
            <select id="select-language" onchange="location = this.value;">
          
          
          
              
              
                  
                    
                    
                      <option id="en" value="/Dragonfly/en/">English</option>
                    
                  
              
                  
              
          
              
              
                  
              
                  
                    
                    
                      <option id="zh-cn" value="/Dragonfly/zh-cn/" selected>简体中文</option>
                    
                  
              
          
        </select>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          width="255px" height="255px" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255;" xml:space="preserve">
          <g>
            <g id="arrow-drop-down">
              <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
            </g>
          </g>
        </svg>
        </div>
        </a>
        </li>
      
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> 清除浏览历史</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="http://getgrav.org">Grav</a> and <a href="http://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              

        
        <div id="body-inner">
          

        

<span id="sidebar-toggle-span">
<a href="#" id="sidebar-toggle" data-sidebar-toggle=""><i class="fas fa-bars"></i> navigation</a>
</span>

 


<p><a href="https://gitter.im/alibaba/Dragonfly?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge"><img src="https://badges.gitter.im/alibaba/Dragonfly.svg" alt="Join the chat at https://gitter.im/alibaba/Dragonfly" /></a>
<a href="https://github.com/alibaba/Dragonfly/blob/master/LICENSE"><img src="https://img.shields.io/badge/license-Apache%202-brightgreen.svg" alt="License" /></a>
<a href="https://app.fossa.io/projects/git%2Bgithub.com%2Falibaba%2FDragonfly?ref=badge_shield"><img src="https://app.fossa.io/api/projects/git%2Bgithub.com%2Falibaba%2FDragonfly.svg?type=shield" alt="FOSSA Status" /></a>
<a href="https://travis-ci.org/alibaba/Dragonfly"><img src="https://travis-ci.org/alibaba/Dragonfly.svg?branch=master" alt="Build Status" /></a></p>

<p><img src="../images/logo.png" alt="Dragonfly" /></p>

<h2 id="什么是-dragonfly">什么是 Dragonfly？</h2>

<p>Dragonfly is an intelligent P2P based image and file distribution system. It aims to resolve issues related to low-efficiency, low-success rate and waste of network bandwidth in file transferring process.</p>

<p>Especially in large-scale file distribution scenarios such as application distribution, cache distribution, log distribution, image distribution, etc.</p>

<p>In Alibaba, Dragonfly is invoiked 2 Billion times and the data distributed is 3.4PB every month. Dragonfly has become one of the most important pieces of infrastructure at Alibaba. The reliability is up to 99.9999%.</p>

<p>While container technologies makes devops life easier most of the time, it sure brings a some challenges: the efficiency of image distribution, especially when you have to replicate image distribution on several hosts. Dragonfly works extremely well with both Docker and <a href="https://github.com/alibaba/pouch">PouchContainer</a> for this scenario. It also is compatible with any other container formats.</p>

<p>It delivers up to 57 times the throughput of native docker and saves up to 99.5% the out bandwidth of registry.</p>

<p>Dragonfly makes it simple and cost-effective to set up, operate, and scale any kind of files/images/data distribution.</p>

<h2 id="why-dragonfly">Why Dragonfly?</h2>

<p><em>The project is an open source version of the dragonfly and more internal features will be gradually opened</em>.</p>

<ul>
<li><strong>P2P based file distribution</strong>: Using P2P technology for file transmission, which can make full use of the bandwidth resources of each peer to improve download efficiency,  saves a lot of cross-IDC bandwidth, especially costly cross-board bandwidth</li>
<li><strong>Non-invasive support all kinds of container technologies</strong>: Dragonfly can seamlessly support various containers for distributing images.</li>
<li><strong>Host level speed limit</strong>: Many downloading tools(wget/curl) only have rate limit for the current download task,but dragonfly
also provides rate limit for the entire host.</li>
<li><strong>Passive CDN</strong>: The CDN mechanism can avoid repetitive remote downloads.</li>
<li><strong>Strong consistency</strong>： Dragonfly can guarantee that all downloaded files must be consistent even if users do not provide any check code(MD5).</li>
<li><strong>Disk protection and high efficient IO</strong>: Precheck Disk space, delay synchronization, write file-block in the best order,
split net-read / disk-write, and so on.</li>
<li><strong>High performance</strong>: Cluster Manager is completely closed-loop, which means, it does not rely on any DB or distributed cache,
processing requests with extremely high performance.</li>
<li><strong>Exception auto isolation</strong>: Dragonfly will automatically isolate exception nodes(peer or Cluster Manager) to improve download stability.</li>
<li><strong>No pressure on file source</strong>: Generally, as long as a few Cluster Managers download file from the source.</li>
<li><strong>Support standard http header</strong>: Support http header, Submit authentication information through http header.</li>
<li><strong>Effective concurrency control of Registry Auth</strong>: Reduce the pressure of the Registry Auth Service.</li>
<li><strong>Simple and easy to use</strong>: Very few configurations are needed.</li>
</ul>

<h2 id="how-does-it-stack-up-against-traditional-solution">How does it stack up against traditional solution?</h2>

<table>
<thead>
<tr>
<th>Test Environment</th>
<th></th>
</tr>
</thead>

<tbody>
<tr>
<td>Dragonfly server</td>
<td>2 * (24core 64GB 2000Mb/s)</td>
</tr>

<tr>
<td>File Source server</td>
<td>2 * (24core 64GB 2000Mb/s)</td>
</tr>

<tr>
<td>Client</td>
<td>4core 8GB 200Mb/s</td>
</tr>

<tr>
<td>Target file size</td>
<td>200MB</td>
</tr>

<tr>
<td>Executed Date</td>
<td>2016-04-20</td>
</tr>
</tbody>
</table>

<p><img src="../images/performance.png" alt="How it stacks up" /></p>

<p>For Dragonfly, no matter how many clients issue the file downloading, the average downloading time is always around 12 seconds.
And for wget, the downloading time keeps increasing when you have more clients, and as the amount of wget clients reaches 1200, the file source will crash, then it can not serve any client.</p>

<h2 id="who-has-adopted-dragonfly">Who has adopted Dragonfly?</h2>

<p>Below are the adoptors of project Dragonfly. If you are using to Dragonfly to improve your distribution, please contact us with.</p>

<p><a href="https://www.alibabagroup.com" border="0" target="_blank"><img alt="trendmicro" src="../images/adoptor_logo/AlibabaGroup.jpg" height="50"></a>&nbsp; &nbsp; &nbsp; &nbsp;
<a href="https://www.alibabacloud.com/zh" border="0" target="_blank"><img alt="trendmicro" src="../images/adoptor_logo/AlibabaCloud.png" height="50"></a>&nbsp; &nbsp; &nbsp; &nbsp;
<a href="http://www.10086.cn/" border="0" target="_blank"><img alt="OnStar" src="../images/adoptor_logo/ChinaMobile.png" height="50"></a>&nbsp; &nbsp; &nbsp; &nbsp;
<a href="https://www.antfin.com/" border="0" target="_blank"><img alt="OnStar" src="../images/adoptor_logo/AntFinancial.png" height="50"></a>&nbsp; &nbsp; &nbsp; &nbsp;
<a href="https://www.cainiao.com/" border="0" target="_blank"><img alt="OnStar" src="../images/adoptor_logo/CaiNiao.gif" height="50"></a>&nbsp; &nbsp; &nbsp; &nbsp;
<a href="http://www.iflytek.com/" border="0" target="_blank"><img alt="OnStar" src="../images/adoptor_logo/iFLYTEK.jpeg" height="50"></a>&nbsp; &nbsp; &nbsp; &nbsp;
<a href="https://www.didiglobal.com" border="0" target="_blank"><img alt="OnStar" src="../images/adoptor_logo/didi.png" height="50"></a>&nbsp; &nbsp; &nbsp; &nbsp;
<a href="https://www.meituan.com" border="0" target="_blank"><img alt="OnStar" src="../images/adoptor_logo/meituan.png" height="50"></a>&nbsp; &nbsp; &nbsp; &nbsp;
<a href="https://www.amap.com/" border="0" target="_blank"><img alt="OnStar" src="../images/adoptor_logo/amap.png" height="50"></a>&nbsp; &nbsp; &nbsp; &nbsp;
<a href="https://www.lazada.com/" border="0" target="_blank"><img alt="OnStar" src="../images/adoptor_logo/lazada.png" height="50"></a>&nbsp; &nbsp; &nbsp; &nbsp;</p>

<h2 id="license">License</h2>

<p>Dragonfly is available under the <a href="https://github.com/alibaba/Dragonfly/blob/master/LICENSE">Apache 2.0 License</a>.</p>

<h2 id="commercial-support">Commercial Support</h2>

<p>If you need commercial support of Dragonfly, please contact us for more information: <a href="https://www.aliyun.com/product/yunxiao">云效</a>.</p>

<p>Dragonfly is already integrated with AliCloud Container Services
If you need commercial support of AliCloud Container Service, please contact us for more information: <a href="https://www.alibabacloud.com/product/container-service">Container Service
</a></p>
	
  
        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


        
        
            <a class="nav nav-next" href="/Dragonfly/zh-cn/onboarding/" title="如何使用本网站" style="margin-right: 0px;"><i class="fas fa-chevron-right"></i></a>
        
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/Dragonfly/js/clipboard.min.js?1540439236"></script>
    <script src="/Dragonfly/js/perfect-scrollbar.min.js?1540439236"></script>
    <script src="/Dragonfly/js/perfect-scrollbar.jquery.min.js?1540439236"></script>
    <script src="/Dragonfly/js/jquery.sticky.js?1540439236"></script>
    <script src="/Dragonfly/js/featherlight.min.js?1540439236"></script>
    <script src="/Dragonfly/js/html5shiv-printshiv.min.js?1540439236"></script>
    <script src="/Dragonfly/js/highlight.pack.js?1540439236"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/Dragonfly/js/modernizr.custom.71422.js?1540439236"></script>
    <script src="/Dragonfly/js/learn.js?1540439236"></script>
    <script src="/Dragonfly/js/hugo-learn.js?1540439236"></script>

    <link href="/Dragonfly/mermaid/mermaid.css?1540439236" type="text/css" rel="stylesheet" />
    <script src="/Dragonfly/mermaid/mermaid.js?1540439236"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

